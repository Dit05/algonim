<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    <script src="dist/Algonim.js"></script>
  </head>
  <body>
    <div style="margin: 0; padding: 0; width: 100%; height: 100vh;">
      <algonim-element color="#abcdef" shape="oblong toroid">:3</algonim-element>
    </div>

    <footer>
      <hr>
      Algonim is licensed under the <a href="https://choosealicense.com/licenses/gpl-3.0/">GNU General Public License v3.0</a>.<br>
      Source available at <a href="https://github.com/Dit05/algonim"><code>https://github.com/Dit05/algonim</code></a>.
    </footer>

    <script defer="defer">
      const algonim = document.getElementsByTagName('algonim-element')[0]

      algonim.slideshow(async (alg) => {
        const code = alg.createModel('code')
        code.lines = [
          'i <- 3',
          'while i>0 do',
          '\tprint(i)',
          '\ti <- i-1',
          'done'
        ]

        let layout = {
          'split': 'vertical',
          'left': null,
          'right': {
            'split': 'horizontal',
            'top': code,
            'bottom': null
          }
        }

        code.arrowLine = 0

        alg.setLayout(layout)

        await alg.keyframe()

        let i = 3
        while(i > 0) {
          code.arrowLine = 1
          await alg.keyframe()
          code.arrowLine = 2
          await alg.keyframe()
          i -= 1
          code.arrowLine = 3
          await alg.keyframe()
        }
        code.arrowLine = 4
        await alg.keyframe()
      })

      //alg.setupExample()
      //alg.redraw()
    </script>
  </body>
</html>
